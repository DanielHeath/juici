<div class="row">

<div class="span4">
  <%= erb(:"partials/index/recently_built") %>
</div>

<div class="span8">

  <h1 class="block-header">New</h1>
  <p>From here you can create a new build</p>
  <p>Name is a unique identifier for the project. It doesn't need to already exist, but builds for a like project need to be named identically</p>
  <p>Environment is a json hash of KEY - VALUE pairs, to be passed into the child environment</p>
  <p>Command is where the magic happens. Often they'll be longwinded, but a reasonable boilerplate might look <a href="#">something like this.</a><p>

  <!-- <pre class="prettyprint linenums">
    if [ ! -d .git ]; then
      git init .
      git remote add origin git://github.com/$user/$project.git
    fi

    git fetch origin
    git checkout -fq origin/master

    bundle install --path .bundle
    bundle exec rake spec
  </pre> -->

  <hr>

  <form action="/builds/new" method="post" class="submit-build">

    <div class="row">
      <!-- First Column -->
      <div class="span3">
        <label>Project Name</label>
        <input type="text" name="project" class="span3" value="<%= params[:project] %>" <%= "readonly" if params[:project] %>>
        <label>Environment</label>
        <input type="text" name="environment" class="span3" placeholder="expects a valid json hash" value="">
        <label>Priority</label>
        <input type="text" name="priority" class="span3" value="1">
      </div><!-- End first column -->

      <div class="span5">
        <label>Command</label>
        <textarea name="command" class="span5" rows="4"></textarea>
        <%# TODO -> When callbacks get implemented %>
        <%# <label>Callback URL</label> %>
        <%# <input type="text" name="callback" class="span3"> %>
        <!-- <label><%# HACK %></label> -->
        <button type="submit" class="btn build-submit">** Create **</button>
      </div>

    </div>
  </form>
</div>
</div>
